TODO:


✔ faire une vue pour les erreurs
✔ résoudre bug avec les erreurs (en local erreur ligne 15 et ne prends pas la vue - en ligne erreur PDO ligne 25 mais prends la vue)
✔ mettre en place les commentaires (je n'arrive pas à récup l'id du post)
✔ voir le responsive
✔ images visibles dans safari
✔ pagination
✔ création table portfolio
✔ foreach pour les portfolio

✔ la pagination ne fonctionne pas
✔ voir pour <picture>
✔ filtres de recherche
✔ formulaire de contact

✔ modifier la requete postManager
✔ créer une session
✔ panel utilisateur (une page avec ses infos + articles favoris[à faire si je m'ennuie))
    ✔ n'autoriser que 7 articles favoris (faire un verif count avant d'autoriser l'insert du post favoris)
✔ connexion admin
✔ connexion utilisateur

✔ insertion en bdd de l'utilisateur
    ✔ création du token
    ✔ récupération du dernier id user
    ✔ insertion en bdd du token
    ✔ envoi d'un email avec le token
    ✔ validation de l’utilisateur en cliquant sur l'email
    ✔ modification du statut de l'utilisateur de 0 à 1 en bdd
    ✔ suppression du token

- oubli du mot de passe
    ✔ récupération de l'email
    ✔ création d'un token
    ✔ envoi d'un email avec le token + message si ce n'est pas l'utilisateur qui a fait la demande
    ✔ validation du token par l'utilisateur
    ✔ accès page "oubli password"
    ✔ modification du password en bdd
    ✔ envoi sur la page login avec message de confirmation
    ✔ debugger javascript pour le double password sur la page de modification du password après oubli
    ✔ changer les onblur contre des onkeyup dans les forms
    ✔ faire la vérification du token (actuellement inexistante, je peux modifier mon mot de passe en boucle)

- sessions
    - créer un timeout

- créer la partie admin
    ✔ créer une page pour les CRUD users manager
    - créer une page pour les CRUD posts manager
    - créer une page pour les CRUD portfolio manager
    - SI utilisateur supprimé (state 3) && SI commentaires par l'utilisateurs ALORS id commentaires utilisateur UPDATE en id anonyme

- Commentaires à faire !!!
    ✔ si non connecté => lecture des commentaires
    ✔ si connecté => possibilité de laisser un commentaire modéré par la suite
    ✔ ajout d'un commentaire depuis le dashboard



Insert pour les tests utilisateurs =>

INSERT INTO `users` (`id`, `pseudo`, `role`, `email`, `password`, `date_modification`, `date_inscription`, `cgu`, `state`) VALUES
(1, 'Riwalenn', 1, 'riwalenn@gmail.com', '$2y$10$my4B/iIYpeoURnvrH6mYLOYpIXcu1xD6EzoS74bA5CSrA5mu.J8PG', '2020-04-03 15:54:30', '2019-12-01 16:37:47', 1, 2),
(2, 'Anonyme', 2, 'no-reply@riwalennbas.com', '$2y$10$sT/NGEIrb8z5XwCvPv9NpeeF3fuge7Vyyf4AWIEQPr7ZWmuJIS2gC', '2019-12-01 00:00:00', '2019-12-01 21:48:31', 1, 2),
(4, 'test', 2, 'test@gmail.com', '', '2019-12-02 15:04:47', '2019-12-01 15:04:47', 1, 0),
(5, 'test1', 2, 'test1@gmail.com', '$2y$10$ixuvHwqwn65wW9PCVIQKLeTupGZjv74qQKWdkuB6BZOr.IZnY.gi6', '2020-04-06 10:58:42', '2020-04-06 10:58:42', 1, 0),
(6, 'test2', 2, 'test2@gmail.com', '$2y$10$ixuvHwqwn65wW9PCVIQKLeTupGZjv74qQKWdkuB6BZOr.IZnY.gi6', '2020-01-01 10:58:42', '2019-12-01 10:58:42', 1, 2),
(7, 'test3', 2, 'test3@gmail.com', '$2y$10$ixuvHwqwn65wW9PCVIQKLeTupGZjv74qQKWdkuB6BZOr.IZnY.gi6', '2020-01-01 10:58:42', '2019-12-01 10:58:42', 1, 2),
(8, 'test4', 2, 'test4@gmail.com', '$2y$10$ixuvHwqwn65wW9PCVIQKLeTupGZjv74qQKWdkuB6BZOr.IZnY.gi6', '2020-04-06 10:58:42', '2020-04-06 10:58:42', 1, 1),
(9, 'test5', 2, 'test5@gmail.com', '$2y$10$ixuvHwqwn65wW9PCVIQKLeTupGZjv74qQKWdkuB6BZOr.IZnY.gi6', '2020-04-06 10:58:42', '2020-04-06 10:58:42', 1, 1),
(10, 'test10', 2, 'test10@gmail.com', '$2y$10$S2iKEUblMHfugYaVtRpPmOj/zf74MuEYZRu5HzRS3DVGFG0zOHccG', '2020-01-01 11:06:51', '2019-12-01 11:06:51', 1, 0),
(11, 'test11', 2, 'test11@gmail.ru', '$2y$10$Rwr7jt.njVYBgcTkpAuJ/emBcfd4QRSFFm0/stMxt8CfpQ4t9Hq5C', '2020-04-06 11:08:51', '2020-04-06 11:08:51', 1, 0);

INSERT INTO `tokens` (`id_token`, `token`, `id_user`, `expiration_token`) VALUES
(2, 'aa5ab2910107e9428cbfa0cbd161d9c722400972e1e2435865babef36f4932d2', 4, '2020-01-13 15:04:47'),
(3, '046280e85dc8fef38b2565f29dc8d602da0137370d9cd4cde184be5fdf335265', 5, '2020-04-11 10:58:42'),
(4, '29ce0d6d8a0bd739c0454d617f6418ef82f03744c777c4871a5bc31633c3c6a8', 10, '2020-04-05 11:06:51'),
(5, '2c7a19c94fe568689ca7f11785dc5ff11ded91595ec85f081949689f37e9bd10', 11, '2020-04-11 11:08:51');



- REFAIRE MES SCHEMAS UML
✔ mettre les liens entre table sous phpMyAdmin

            //how to start a session
            session_start();
            $_SESSION['prenom'] = 'Riwalenn';
            $_SESSION['role'] = 'Admin';
            $_SESSION['id'] = session_id();

            echo $_SESSION['id'];

            //how to destroy session
            unset($_SESSION['id']);
            unset($_SESSION['prenom']);
            unset($_SESSION['role']);
            session_destroy();
            echo '<br>cookie : ' . $_COOKIE['PHPSESSID'];
            echo '<br>id session : ' . $_SESSION['id'];



       if (!empty($_REQUEST['page'])) :
            $pageCourante = $_REQUEST['page'];
        else:
            $pageCourante = 1;
        endif;
        =

       $pageCourante = $_REQUEST['page'] ?? 1;
       ou
       $pageCourante = !empty($_REQUEST['page']) ? $_REQUEST['page'] : 1;









utilisateurs:
   Utilisateur en attente : <a class="nav-link js-scroll-trigger" href="#"><i class="fas fa-user-secret"></i></a>
      Utilisateur accepté : <a class="nav-link js-scroll-trigger" href="#"><i class="fas fa-user"></i></a>
           Administrateur : <a class="nav-link js-scroll-trigger" href="#"><i class="fas fa-user-astronaut"></i></a>
               Modérateur : <a class="nav-link js-scroll-trigger" href="#"><i class="fas fa-user-ninja"></i></a>
                Connexion : <a class="nav-link js-scroll-trigger" href="#"><i class="fas fa-users-cog"></i></a>